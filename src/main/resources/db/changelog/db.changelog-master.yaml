databaseChangeLog:
  - changeSet:
      id: 001-create-prices
      author: junie
      changes:
        - createTable:
            tableName: PRICES
            columns:
              - column:
                  name: ID
                  type: BIGINT GENERATED BY DEFAULT AS IDENTITY
                  constraints:
                    primaryKey: true
              - column:
                  name: BRAND_ID
                  type: INT
                  constraints:
                    nullable: false
              - column:
                  name: START_DATE
                  type: TIMESTAMP
                  constraints:
                    nullable: false
              - column:
                  name: END_DATE
                  type: TIMESTAMP
                  constraints:
                    nullable: false
              - column:
                  name: PRICE_LIST
                  type: INT
                  constraints:
                    nullable: false
              - column:
                  name: PRODUCT_ID
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: PRIORITY
                  type: INT
                  constraints:
                    nullable: false
              - column:
                  name: PRICE
                  type: DECIMAL(10,2)
                  constraints:
                    nullable: false
              - column:
                  name: CURR
                  type: VARCHAR(3)
                  constraints:
                    nullable: false
        - createIndex:
            indexName: IDX_PRICES_LOOKUP
            tableName: PRICES
            columns:
              - column:
                  name: BRAND_ID
              - column:
                  name: PRODUCT_ID
              - column:
                  name: START_DATE
              - column:
                  name: END_DATE
              - column:
                  name: PRIORITY
  - changeSet:
      id: 002-seed-prices
      author: junie
      changes:
        - insert:
            tableName: PRICES
            columns:
              - column: { name: BRAND_ID, valueNumeric: 1 }
              - column: { name: START_DATE, valueDate: "2020-06-14T00:00:00" }
              - column: { name: END_DATE, valueDate: "2020-12-31T23:59:59" }
              - column: { name: PRICE_LIST, valueNumeric: 1 }
              - column: { name: PRODUCT_ID, valueNumeric: 35455 }
              - column: { name: PRIORITY, valueNumeric: 0 }
              - column: { name: PRICE, valueNumeric: 35.50 }
              - column: { name: CURR, value: "EUR" }
        - insert:
            tableName: PRICES
            columns:
              - column: { name: BRAND_ID, valueNumeric: 1 }
              - column: { name: START_DATE, valueDate: "2020-06-14T15:00:00" }
              - column: { name: END_DATE, valueDate: "2020-06-14T18:30:00" }
              - column: { name: PRICE_LIST, valueNumeric: 2 }
              - column: { name: PRODUCT_ID, valueNumeric: 35455 }
              - column: { name: PRIORITY, valueNumeric: 1 }
              - column: { name: PRICE, valueNumeric: 25.45 }
              - column: { name: CURR, value: "EUR" }
        - insert:
            tableName: PRICES
            columns:
              - column: { name: BRAND_ID, valueNumeric: 1 }
              - column: { name: START_DATE, valueDate: "2020-06-15T00:00:00" }
              - column: { name: END_DATE, valueDate: "2020-06-15T11:00:00" }
              - column: { name: PRICE_LIST, valueNumeric: 3 }
              - column: { name: PRODUCT_ID, valueNumeric: 35455 }
              - column: { name: PRIORITY, valueNumeric: 1 }
              - column: { name: PRICE, valueNumeric: 30.50 }
              - column: { name: CURR, value: "EUR" }
        - insert:
            tableName: PRICES
            columns:
              - column: { name: BRAND_ID, valueNumeric: 1 }
              - column: { name: START_DATE, valueDate: "2020-06-15T16:00:00" }
              - column: { name: END_DATE, valueDate: "2020-12-31T23:59:59" }
              - column: { name: PRICE_LIST, valueNumeric: 4 }
              - column: { name: PRODUCT_ID, valueNumeric: 35455 }
              - column: { name: PRIORITY, valueNumeric: 1 }
              - column: { name: PRICE, valueNumeric: 38.95 }
              - column: { name: CURR, value: "EUR" }